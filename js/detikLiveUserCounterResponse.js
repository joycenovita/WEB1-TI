if("function"!=typeof jQuery){var warnJQueryUndefinedStr="detikLiveUserCounterResponse.js needs jQuery 1.1x.x to run properly!";throw console.log(warnJQueryUndefinedStr),new Error(warnJQueryUndefinedStr)}var MD5=function(e){return M(V(Y(X(e),8*e.length))).toLowerCase()};function M(e){for(var t,r="0123456789ABCDEF",n="",o=0;o<e.length;o++)t=e.charCodeAt(o),n+=r.charAt(t>>>4&15)+r.charAt(15&t);return n}function X(e){for(var t=Array(e.length>>2),r=0;r<t.length;r++)t[r]=0;for(r=0;r<8*e.length;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<r%32;return t}function V(e){for(var t="",r=0;r<32*e.length;r+=8)t+=String.fromCharCode(e[r>>5]>>>r%32&255);return t}function Y(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,n=-271733879,o=-1732584194,a=271733878,i=0;i<e.length;i+=16){var s=r,l=n,c=o,d=a;n=md5_ii(n=md5_ii(n=md5_ii(n=md5_ii(n=md5_hh(n=md5_hh(n=md5_hh(n=md5_hh(n=md5_gg(n=md5_gg(n=md5_gg(n=md5_gg(n=md5_ff(n=md5_ff(n=md5_ff(n=md5_ff(n,o=md5_ff(o,a=md5_ff(a,r=md5_ff(r,n,o,a,e[i+0],7,-680876936),n,o,e[i+1],12,-389564586),r,n,e[i+2],17,606105819),a,r,e[i+3],22,-1044525330),o=md5_ff(o,a=md5_ff(a,r=md5_ff(r,n,o,a,e[i+4],7,-176418897),n,o,e[i+5],12,1200080426),r,n,e[i+6],17,-1473231341),a,r,e[i+7],22,-45705983),o=md5_ff(o,a=md5_ff(a,r=md5_ff(r,n,o,a,e[i+8],7,1770035416),n,o,e[i+9],12,-1958414417),r,n,e[i+10],17,-42063),a,r,e[i+11],22,-1990404162),o=md5_ff(o,a=md5_ff(a,r=md5_ff(r,n,o,a,e[i+12],7,1804603682),n,o,e[i+13],12,-40341101),r,n,e[i+14],17,-1502002290),a,r,e[i+15],22,1236535329),o=md5_gg(o,a=md5_gg(a,r=md5_gg(r,n,o,a,e[i+1],5,-165796510),n,o,e[i+6],9,-1069501632),r,n,e[i+11],14,643717713),a,r,e[i+0],20,-373897302),o=md5_gg(o,a=md5_gg(a,r=md5_gg(r,n,o,a,e[i+5],5,-701558691),n,o,e[i+10],9,38016083),r,n,e[i+15],14,-660478335),a,r,e[i+4],20,-405537848),o=md5_gg(o,a=md5_gg(a,r=md5_gg(r,n,o,a,e[i+9],5,568446438),n,o,e[i+14],9,-1019803690),r,n,e[i+3],14,-187363961),a,r,e[i+8],20,1163531501),o=md5_gg(o,a=md5_gg(a,r=md5_gg(r,n,o,a,e[i+13],5,-1444681467),n,o,e[i+2],9,-51403784),r,n,e[i+7],14,1735328473),a,r,e[i+12],20,-1926607734),o=md5_hh(o,a=md5_hh(a,r=md5_hh(r,n,o,a,e[i+5],4,-378558),n,o,e[i+8],11,-2022574463),r,n,e[i+11],16,1839030562),a,r,e[i+14],23,-35309556),o=md5_hh(o,a=md5_hh(a,r=md5_hh(r,n,o,a,e[i+1],4,-1530992060),n,o,e[i+4],11,1272893353),r,n,e[i+7],16,-155497632),a,r,e[i+10],23,-1094730640),o=md5_hh(o,a=md5_hh(a,r=md5_hh(r,n,o,a,e[i+13],4,681279174),n,o,e[i+0],11,-358537222),r,n,e[i+3],16,-722521979),a,r,e[i+6],23,76029189),o=md5_hh(o,a=md5_hh(a,r=md5_hh(r,n,o,a,e[i+9],4,-640364487),n,o,e[i+12],11,-421815835),r,n,e[i+15],16,530742520),a,r,e[i+2],23,-995338651),o=md5_ii(o,a=md5_ii(a,r=md5_ii(r,n,o,a,e[i+0],6,-198630844),n,o,e[i+7],10,1126891415),r,n,e[i+14],15,-1416354905),a,r,e[i+5],21,-57434055),o=md5_ii(o,a=md5_ii(a,r=md5_ii(r,n,o,a,e[i+12],6,1700485571),n,o,e[i+3],10,-1894986606),r,n,e[i+10],15,-1051523),a,r,e[i+1],21,-2054922799),o=md5_ii(o,a=md5_ii(a,r=md5_ii(r,n,o,a,e[i+8],6,1873313359),n,o,e[i+15],10,-30611744),r,n,e[i+6],15,-1560198380),a,r,e[i+13],21,1309151649),o=md5_ii(o,a=md5_ii(a,r=md5_ii(r,n,o,a,e[i+4],6,-145523070),n,o,e[i+11],10,-1120210379),r,n,e[i+2],15,718787259),a,r,e[i+9],21,-343485551),r=safe_add(r,s),n=safe_add(n,l),o=safe_add(o,c),a=safe_add(a,d)}return Array(r,n,o,a)}function md5_cmn(e,t,r,n,o,a){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(n,a)),o),r)}function md5_ff(e,t,r,n,o,a,i){return md5_cmn(t&r|~t&n,e,t,o,a,i)}function md5_gg(e,t,r,n,o,a,i){return md5_cmn(t&n|r&~n,e,t,o,a,i)}function md5_hh(e,t,r,n,o,a,i){return md5_cmn(t^r^n,e,t,o,a,i)}function md5_ii(e,t,r,n,o,a,i){return md5_cmn(r^(t|~n),e,t,o,a,i)}function safe_add(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function bit_rol(e,t){return e<<t|e>>>32-t}!function(e){"function"==typeof define&&define.amd?define(e):window.purl=e()}((function(){var e={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},t=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],r={anchor:"fragment"},n={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},o=/^[0-9]+$/;function a(e,r){for(var o=decodeURI(e),a=n[r?"strict":"loose"].exec(o),i={attr:{},param:{},seg:{}},s=14;s--;)i.attr[t[s]]=a[s]||"";return i.param.query=c(i.attr.query),i.param.fragment=c(i.attr.fragment),i.seg.path=i.attr.path.replace(/^\/+|\/+$/g,"").split("/"),i.seg.fragment=i.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),i.attr.base=i.attr.host?(i.attr.protocol?i.attr.protocol+"://"+i.attr.host:i.attr.host)+(i.attr.port?":"+i.attr.port:""):"",i}function i(e,t){if(0===e[t].length)return e[t]={};var r={};for(var n in e[t])r[n]=e[t][n];return e[t]=r,r}function s(e,t,r,n){var a=e.shift();if(a){var l=t[r]=t[r]||[];"]"==a?d(l)?""!==n&&l.push(n):"object"==typeof l?l[function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}(l).length]=n:l=t[r]=[t[r],n]:~a.indexOf("]")?(a=a.substr(0,a.length-1),!o.test(a)&&d(l)&&(l=i(t,r)),s(e,l,a,n)):(!o.test(a)&&d(l)&&(l=i(t,r)),s(e,l,a,n))}else d(t[r])?t[r].push(n):"object"==typeof t[r]||void 0===t[r]?t[r]=n:t[r]=[t[r],n]}function l(e,t,r){if(~t.indexOf("]")){s(t.split("["),e,"base",r)}else{if(!o.test(t)&&d(e.base)){var n={};for(var a in e.base)n[a]=e.base[a];e.base=n}""!==t&&function(e,t,r){var n=e[t];void 0===n?e[t]=r:d(n)?n.push(r):e[t]=[n,r]}(e.base,t,r)}return e}function c(e){return function(e,t){var r=0,n=e.length>>0,o=arguments[2];for(;r<n;)r in e&&(o=t.call(void 0,o,e[r],r,e)),++r;return o}(String(e).split(/&|;/),(function(e,t){try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(e){}var r=t.indexOf("="),n=function(e){for(var t,r,n=e.length,o=0;o<n;++o)if("]"==(r=e[o])&&(t=!1),"["==r&&(t=!0),"="==r&&!t)return o}(t),o=t.substr(0,n||r),a=t.substr(n||r,t.length);return a=a.substr(a.indexOf("=")+1,a.length),""===o&&(o=t,a=""),l(e,o,a)}),{base:{}}).base}function d(e){return"[object Array]"===Object.prototype.toString.call(e)}function g(e,t){return 1===arguments.length&&!0===e&&(t=!0,e=void 0),t=t||!1,{data:a(e=e||window.location.toString(),t),attr:function(e){return void 0!==(e=r[e]||e)?this.data.attr[e]:this.data.attr},param:function(e){return void 0!==e?this.data.param.query[e]:this.data.param.query},fparam:function(e){return void 0!==e?this.data.param.fragment[e]:this.data.param.fragment},segment:function(e){return void 0===e?this.data.seg.path:(e=e<0?this.data.seg.path.length+e:e-1,this.data.seg.path[e])},fsegment:function(e){return void 0===e?this.data.seg.fragment:(e=e<0?this.data.seg.fragment.length+e:e-1,this.data.seg.fragment[e])}}}return g.jQuery=function(t){null!=t&&(t.fn.url=function(r){var n,o,a="";return this.length&&(a=t(this).attr((n=this[0],void 0!==(o=n.tagName)?e[o.toLowerCase()]:o))||""),g(a,r)},t.url=g)},g.jQuery(window.jQuery),g})),function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var r=window.Cookies,n=window.Cookies=e();n.noConflict=function(){return window.Cookies=r,n}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function a(t,r,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(r);/^[\{\[]/.test(i)&&(r=i)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in a)a[l]&&(s+="; "+l,!0!==a[l]&&(s+="="+a[l].split(";")[0]));return document.cookie=t+"="+r+s}}function i(e,r){if("undefined"!=typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],i=0;i<a.length;i++){var s=a[i].split("="),l=s.slice(1).join("=");r||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(n.read||n)(l,c)||t(l),r)try{l=JSON.parse(l)}catch(e){}if(o[c]=l,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=a,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(t,r){a(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}));var detikLiveUserCounterResponse={};!function(e){e.headerInfo="[detikLiveUserCounterResponse]",e.version="v1.13",e.baseDomain=function(){result="";var e=window.location.hostname,t=e.split(".");return t.length>=3?result="."+t[1]+"."+t[2]:result="."+e,result},e.config={enableConsoleLog:!1,timeInterval:3e4,channel:"counterview",domain:window.location.hostname,user:"",trackerid:"",enableGetCounter:!0,getCounterUrl:"https://parsley.detik.com/dtnct",getCounterReadOnlyUrl:"https://parsley.detik.com/dtnctv",successCallback:null,errorCallback:null,enableTheTracker:!1,theTrackerUrl:"https://cdn.detik.net.id/loganalysistracker/thetracker-detik-v3.min.js",persistentMode:!0,userPrefix:"gen_",mobilePrefix:"genm_",dtmaCookieName:"__dtma",dtklucCookieName:"dtklucx",dtklucCookieAttribute:{domain:e.baseDomain(),path:"/",expires:365},dtklucCookieAttributeRead:{domain:e.baseDomain(),path:"/"},dtklucDbgCookieName:"dtklucdbg",dtklucDbgCookieAttributeRead:{domain:e.baseDomain(),path:"/"},startDelay:6e3,startDelayForResponse:1e3,startDelayForRequest:2e3,readOnly:!1,requestWinPostMsg:!0,responseWinPostMsg:!0,requestWinPostData:{dtklucreq:1},responseWinPostData:{dtklucuser:null,dtkluctrackerid:null,dtklucdomain:null,dtklucchannel:null},requestWinPostTargetWindow:"*",responseWinPostTargetWindow:"*",winPostDataRewriteUserId:!0,winPostDataRewriteTrackerId:!0,winPostDataRewriteDomain:!0,winPostDataRewriteChannel:!1,waitingResponseWinPostMsg:6e3,ajaxSetupCache:!1,ajaxSetupASync:!0,noHit:!0,sendJsUrl:!1,bodyLogger:!1,scriptMarker:"detikLiveUserCounter",mobileIdAvoidingMarker:"ADVERTISING_IDENTIFIER_PLAIN"},e.inputConfig={},e.vars={timeIntervalHandler:null,getCounterData:null,isTheTrackerHasBeenLoaded:!1,startDelayNow:!1,messageAddListenerLock:!1,dataWinPostMsgIsOK:!1,haltedRequestWinPostMsg:!1,firstStart:!1,playIsSent:!1,playIsOccur:!1,mobileId:"",mobileType:"",mobileLat:"",scriptSrcUrl:null,isMobileMacrosExist:!1},e.log=function(t,r){if(!0===e.config.enableConsoleLog)try{if(null==r){if(console.log(e.headerInfo+" "+t),!0===e.config.bodyLogger){var n=document.createElement("p"),o=document.createTextNode(e.headerInfo+" "+t);n.appendChild(o),document.body.appendChild(n)}}else if(console.log(e.headerInfo+" "+t,r),!0===e.config.bodyLogger){n=document.createElement("p"),o=document.createTextNode(e.headerInfo+" "+t+" , "+JSON.stringify(r));n.appendChild(o),document.body.appendChild(n)}}catch(e){}},e.logx=function(t,r){try{if(null==r){if(console.log(e.headerInfo+" "+t),!0===e.config.bodyLogger){var n=document.createElement("p"),o=document.createTextNode(e.headerInfo+" "+t);n.appendChild(o),document.body.appendChild(n)}}else if(console.log(e.headerInfo+" "+t,r),!0===e.config.bodyLogger){n=document.createElement("p"),o=document.createTextNode(e.headerInfo+" "+t+" , "+JSON.stringify(r));n.appendChild(o),document.body.appendChild(n)}}catch(e){}},e.uniqueId=function(e){function t(){return Math.random().toString(16).slice(-4)}return null===e&&(e="_"),e+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},e.getScriptSrc=function(){var t=null;return $.each($("script"),(function(r,n){-1!==n.src.indexOf(e.config.scriptMarker)&&(t=n.src)})),t},e.getMobileMacros=function(){try{if(null!==e.vars.scriptSrcUrl){var t=$.url(e.vars.scriptSrcUrl).param("mobileid"),r=$.url(e.vars.scriptSrcUrl).fparam("mobileid");"string"==typeof t&&""!==t&&-1===t.indexOf(e.config.mobileIdAvoidingMarker)?(e.vars.mobileId=t,e.vars.mobileType=$.url(e.vars.scriptSrcUrl).param("mobiletype"),e.vars.mobileLat=$.url(e.vars.scriptSrcUrl).param("mobilelat"),e.config.user=e.config.mobilePrefix+MD5(e.vars.mobileId+";"+e.vars.mobileType+";"+e.vars.mobileLat),e.vars.isMobileMacrosExist=!0,e.log("getMobileMacros param mobileid is",e.vars.mobileId),e.log("getMobileMacros param mobiletype is",e.vars.mobileType),e.log("getMobileMacros param mobilelat is",e.vars.mobileLat),e.log("getMobileMacros param user is",e.config.user)):"string"==typeof r&&""!==r&&-1===r.indexOf(e.config.mobileIdAvoidingMarker)&&(e.vars.mobileId=r,e.vars.mobileType=$.url(e.vars.scriptSrcUrl).fparam("mobiletype"),e.vars.mobileLat=$.url(e.vars.scriptSrcUrl).fparam("mobilelat"),e.config.user=e.config.mobilePrefix+MD5(e.vars.mobileId+";"+e.vars.mobileType+";"+e.vars.mobileLat),e.vars.isMobileMacrosExist=!0,e.log("getMobileMacros fparam mobileid is",e.vars.mobileId),e.log("getMobileMacros fparam mobiletype is",e.vars.mobileType),e.log("getMobileMacros fparam mobilelat is",e.vars.mobileLat),e.log("getMobileMacros fparam user is",e.config.user))}}catch(e){}},e.configProcess=function(){$.each(e.config,(function(t,r){void 0!==e.inputConfig&&null!==e.inputConfig&&void 0!==e.inputConfig[t]&&(e.config[t]=e.inputConfig[t])}))},e.readBodyLoggerMarker=function(){try{if(null!==e.vars.scriptSrcUrl){var t=$.url(e.vars.scriptSrcUrl).param("bodylogger"),r=$.url(e.vars.scriptSrcUrl).fparam("bodylogger");"string"==typeof t&&"true"===t?(e.config.bodyLogger=!0,e.log("readBodyLoggerMarker param got the mark, we work as Body Logger now",null)):"string"==typeof r&&"true"===r&&(e.config.bodyLogger=!0,e.log("readBodyLoggerMarker fparam got the mark, we work as Body Logger now",null))}}catch(e){}},e.setConfig=function(t){"object"===$.type(t)&&(e.log("setConfig is working",null),e.vars.scriptSrcUrl=e.getScriptSrc(),e.readBodyLoggerMarker(),e.inputConfig=t,e.configProcess(),e.config.user=e.uniqueId(e.config.userPrefix),e.getMobileMacros(),!0===e.config.requestWinPostMsg&&(e.config.startDelay=e.config.startDelayForRequest),!0===e.config.responseWinPostMsg&&(e.config.startDelay=e.config.startDelayForResponse))},e.getScriptTemplate=function(t,r,n){$.ajaxSetup({async:!0,cache:!0}),$.getScript(t,(function(){"function"==typeof n&&n(),"function"==typeof r&&r(),$.ajaxSetup({async:!0,cache:!1})})).fail((function(){e.log("calls failed",t),"function"==typeof n&&n(),$.ajaxSetup({async:!0,cache:!1}),"function"==typeof r&&r()}))},e.gsTheTracker=function(){!0===e.config.enableTheTracker&&!1===e.vars.isTheTrackerHasBeenLoaded&&(e.log("gsTheTracker lib caller",null),e.getScriptTemplate(e.config.theTrackerUrl,e.start2,null))},e.start2=function(){if(!0===e.config.enableTheTracker&&!1===e.vars.isTheTrackerHasBeenLoaded){e.vars.isTheTrackerHasBeenLoaded=!0,e.log("start2 is working",null);var t=document.getElementsByTagName("meta");try{detikTracker.call(null,t),e.log("start2 detikTracker call is running",null);var r=Cookies.get(e.config.dtmaCookieName,e.config.dtklucCookieAttributeRead);"string"==typeof r&&""!==r?(e.config.trackerid=r,e.log("start2 got __dtma",e.config.trackerid),e.start1()):!0===e.config.persistentMode?e.start1():e.log("start2 didnt get __dtma, halted",null)}catch(t){e.log("start2 detikTracker call got an error",null),!0===e.config.persistentMode?e.start1():e.log("start2 didnt get __dtma, halted",null)}}},e.start1=function(){if(!1===e.config.noHit){if(null===e.vars.timeIntervalHandler){e.log("start1 is working",null);var t="";try{if(null!==document.referrer&&void 0!==document.referrer){var r=document.referrer;t=new URL(r).hostname}}catch(e){}var n="";!0===e.config.sendJsUrl&&(n="&url="+encodeURIComponent(window.location)),e.vars.getCounterData="chanel="+encodeURIComponent(e.config.channel)+"&user="+encodeURIComponent(e.config.user)+"&trackerid="+encodeURIComponent(e.config.trackerid)+"&domain="+encodeURIComponent(e.config.domain)+"&domain2="+encodeURIComponent(t)+n,e.getCounter(),!0===e.vars.playIsOccur&&!1===e.vars.playIsSent&&e.getCounter(),e.vars.timeIntervalHandler=setInterval((function(){e.getCounter(),!0===e.vars.playIsOccur&&!1===e.vars.playIsSent&&e.getCounter()}),e.config.timeInterval)}}else e.log("start1 uses noHit, only responseWinPostMsg (if it is true) will run in message listener",null)},e.start0=function(){if(!0===e.config.enableTheTracker&&!1===e.vars.isTheTrackerHasBeenLoaded)e.log("start0 load theTracker to create __dtma",null),e.gsTheTracker();else{e.log("start0 read __dtma as trackerid",null);var t=Cookies.get(e.config.dtmaCookieName,e.config.dtklucCookieAttributeRead);"string"==typeof t&&""!==t&&(e.config.trackerid=t,e.log("start0 got __dtma, trackerid value is",e.config.trackerid)),e.log("start0 read dtkluc",null);var r=Cookies.get(e.config.dtklucCookieName,e.config.dtklucCookieAttributeRead);"string"==typeof r&&""!==r?(e.config.user=r,e.log("start0 got dtkluc, user value is",e.config.user),!0===e.config.requestWinPostMsg?e.requestWinPostMsg():e.start1()):(e.log("start0 unable to read dtkluc, user value is",e.config.user),Cookies.set(e.config.dtklucCookieName,e.config.user,e.config.dtklucCookieAttribute),!0===e.config.requestWinPostMsg?e.requestWinPostMsg():e.start1())}},e.start=function(){e.logx("start is working, version is",e.version),"1"===Cookies.get(e.config.dtklucDbgCookieName,e.config.dtklucDbgCookieAttributeRead)&&(e.config.enableConsoleLog=!0),!1===e.vars.startDelayNow?(e.vars.startDelayNow=!0,e.log("start uses startDelay",e.config.startDelay),setTimeout((function(){e.vars.startDelayNow=!1,e.log("start uses startDelay is over",null),e.log("start config is",e.config),e.messageAddListenerInit(),e.start0()}),e.config.startDelay)):e.log("start said that startDelay is busy!",null)},e.messageAddListenerInit=function(){!1===e.vars.messageAddListenerLock&&(e.log("messageAddListenerInit is working",null),e.vars.messageAddListenerLock=!0,!0===e.config.requestWinPostMsg&&window.addEventListener("message",(function(t){if(!1===e.vars.haltedRequestWinPostMsg){e.log("messageAddListenerInit requestWinPostMsg window listener is working",null);var r=t.data;!0===e.config.winPostDataRewriteUserId&&"object"==typeof r&&null!==r&&r.hasOwnProperty("dtklucuser")&&(e.config.user=r.dtklucuser,e.vars.dataWinPostMsgIsOK=!0,e.vars.haltedRequestWinPostMsg=!0),!0===e.config.winPostDataRewriteTrackerId&&"object"==typeof r&&null!==r&&r.hasOwnProperty("dtkluctrackerid")&&(e.config.trackerid=r.dtkluctrackerid),!0===e.config.winPostDataRewriteDomain&&"object"==typeof r&&null!==r&&r.hasOwnProperty("dtklucdomain")&&(e.config.domain=r.dtklucdomain),!0===e.config.winPostDataRewriteChannel&&"object"==typeof r&&null!==r&&r.hasOwnProperty("dtklucchannel")&&(e.config.channel=r.dtklucchannel),!0===e.vars.dataWinPostMsgIsOK&&(e.log("messageAddListenerInit requestWinPostMsg got responseData",r),setTimeout((function(){e.start1()}),0))}})),!0===e.config.responseWinPostMsg&&window.addEventListener("message",(function(t){var r=t.data;if("object"==typeof r&&null!==r&&!0===r.hasOwnProperty("dtklucreq")&&1===r.dtklucreq){var n=e.config.responseWinPostData;n.dtklucuser=e.config.user,n.dtkluctrackerid=e.config.trackerid,n.dtklucdomain=e.config.domain,n.dtklucchannel=e.config.channel;var o=document.getElementsByTagName("iframe");e.log("messageAddListenerInit responseWinPostMsg iframes",o),$.each(o,(function(t,r){try{r.contentWindow.postMessage(n,e.config.responseWinPostTargetWindow),e.log("messageAddListenerInit responseWinPostMsg already sent",null)}catch(t){e.log("messageAddListenerInit responseWinPostMsg is failed!",null)}}))}})))},e.requestWinPostMsg=function(){if(!0===e.config.requestWinPostMsg){try{e.log("requestWinPostMsg is working",null),window.parent.postMessage(e.config.requestWinPostData,e.config.requestWinPostTargetWindow)}catch(t){e.log("requestWinPostMsg is failed!",null)}setTimeout((function(){!1===e.vars.dataWinPostMsgIsOK&&(e.log("requestWinPostMsg no-more waiting window.postMessage, get cookie now!",null),e.vars.haltedRequestWinPostMsg=!0,e.start1())}),e.config.waitingResponseWinPostMsg)}},e.getCounter=function(){if(!0===e.config.enableGetCounter){var t=null,r=null,n=null,o=null,a="";!0===e.vars.playIsSent&&(a="&event=playing");var i="";!0===e.vars.firstStart&&!0===e.vars.playIsOccur&&!1===e.vars.playIsSent&&(e.vars.playIsSent=!0,i="&event=play");var s="";!1===e.vars.firstStart&&(e.vars.firstStart=!0,s="&event=start"),!0===e.config.readOnly?(r="GET",n="application/x-www-form-urlencoded",o=e.vars.getCounterData+s+i+a,t=e.config.getCounterReadOnlyUrl):(r="POST",n="application/x-www-form-urlencoded",o=e.vars.getCounterData+s+i+a,t=e.config.getCounterUrl),e.log("getCounter is working",t),e.log("getCounter ajaxData",o),$.ajaxSetup({async:e.config.ajaxSetupASync,cache:e.config.ajaxSetupCache}),$.ajax({type:r,url:t,data:o,contentType:n,success:function(t){e.log("getCounter success-event",t),"function"==typeof e.config.successCallback&&e.config.successCallback(t)},error:function(t){e.log("getCounter error-event",t),"function"==typeof e.config.errorCallback&&e.config.errorCallback(t)}})}},e.stop=function(){null!==e.vars.timeIntervalHandler&&(e.log("stop is working",null),clearInterval(e.vars.timeIntervalHandler),e.vars.timeIntervalHandler=null)},e.pause=function(){e.log("pause is working",null),e.config.enableGetCounter=!1},e.resume=function(){e.log("resume is working",null),e.config.enableGetCounter=!0},e.play=function(){e.log("play is working",null),e.vars.playIsOccur=!0}}(detikLiveUserCounterResponse),detikLiveUserCounterResponse.setConfig({enableConsoleLog:!1,requestWinPostMsg:!0,responseWinPostMsg:!0,noHit:!0}),detikLiveUserCounterResponse.start();
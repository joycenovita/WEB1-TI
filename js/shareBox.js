var brandId="1",shortenUrl="https://dtk.id",site="detik";window.location.hostname.search(/(insertlive.com)/gi)>-1?brandId="5":window.location.hostname.search(/(updatebanget.com)/gi)>-1||(window.location.hostname.search(/(cnnindonesia.com)/gi)>-1?site="cnn":window.location.hostname.search(/(cnbcindonesia.com)/gi)>-1?brandId="10":window.location.hostname.search(/(haibunda.com)/gi)>-1?brandId="4":window.location.hostname.search(/(beautynesia.id)/gi)>-1&&(brandId="6"));var shareBox={num_share:0,fbLoaded:!1,shorturl:"",totalArr:[],totalSeq:0,totalCount:0,regShare:function(e){return shareBox.addShare(e),!1},windowOptions:"scrollbars=yes,resizable=yes,toolbar=no,location=yes",checkFbBrowser:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},facebook:function(e){var t="http://www.facebook.com/share.php?u=|u|";t=t.replace("|u|",e.pageUrl).replace("|t|",e.pageTitle).replace("|d|",e.pageDesc).replace("|140|",e.pageTitle.substring(0,130)),window.open(t,shareBox.windowOptions,"width=640, height=528")},twitter:function(e){var t="https://twitter.com/intent/tweet",a=encodeURIComponent(e.pageTitle),n=encodeURIComponent(e.pageUrl);if(e.pageQuote&&(a=e.pageTitle?encodeURIComponent('"'+e.pageQuote+'" - '+e.pageTitle):encodeURIComponent('"'+e.pageQuote+'"')),"cnn"==site){var o="https://cnn.id/"+article.idnews;window.open(t+"?text="+a+"&url="+encodeURIComponent(o),shareBox.windowOptions,"width=550,height=320")}else $.ajax({url:shortenUrl+"/?"+n,type:"GET",headers:{"X-BrandId":brandId},success:function(e){console.log(shareBox.checkFbBrowser()),!0===shareBox.checkFbBrowser()?window.location.href=t+"?text="+a+"&url="+encodeURIComponent(e):window.open(t+"?text="+a+"&url="+encodeURIComponent(e),shareBox.windowOptions,"width=550,height=320")}})},gplus:function(e){title=encodeURIComponent(e.pageTitle),e.pageQuote&&(e.pageTitle?title=encodeURIComponent('"'+e.pageQuote+'" - '+e.pageTitle):title=encodeURIComponent('"'+e.pageQuote+'"'));var t="https://plusone.google.com/_/+1/confirm?url="+encodeURIComponent(e.pageUrl)+"&title="+title;window.open(t,shareBox.windowOptions,"width=640, height=528")},linked:function(e){url=encodeURIComponent(e.pageUrl);var t="https://www.linkedin.com/shareArticle?mini=true&url="+url;window.open(t,shareBox.windowOptions,"width=520, height=570")},whatsapp:function(e,t){var a=encodeURIComponent(e.pageTitle),n=encodeURIComponent(e.pageUrl);e.pageQuote&&(a=e.pageTitle?encodeURIComponent('"'+e.pageQuote+'" - '+e.pageTitle):encodeURIComponent('"'+e.pageQuote+'"'));e.pageUrl;if(""!=shareBox.shorturl&&shareBox.shorturl,"cnn"==site){var o="cnn.id/"+article.idnews;$(".whatsap").click((function(){window.open("https://wa.me/?text="+a+" "+encodeURIComponent(o)).focus()}))}else $.ajax({url:shortenUrl+"/?"+n,type:"GET",headers:{"X-BrandId":brandId},success:function(e){$(".whatsap").click((function(){window.open("https://wa.me/?text="+a+" "+e).focus()}))}})},lineit:function(e){title=encodeURIComponent(e.pageTitle),e.pageQuote&&(e.pageTitle?title=encodeURIComponent('"'+e.pageQuote+'" - '+e.pageTitle):title=encodeURIComponent('"'+e.pageQuote+'"')),window.location.href="http://line.me/R/msg/text/?"+title+" "+e.pageUrl},telegram:function(e,t){if(title=encodeURIComponent(e.pageTitle),url=encodeURIComponent(e.pageUrl),e.pageQuote&&(e.pageTitle?title=encodeURIComponent('"'+e.pageQuote+'" - '+e.pageTitle):title=encodeURIComponent('"'+e.pageQuote+'"')),"cnn"==site){var a="cnn.id/"+article.idnews;$(".sh-telegram").attr({href:"https://t.me/share/url?url="+encodeURIComponent(a)+"&text="+title}),$(".sh-telegram").attr({"data-href":a})}else $.ajax({url:shortenUrl+"/?"+url,type:"GET",headers:{"X-BrandId":brandId},success:function(e){$(".sh-telegram").attr({href:"https://t.me/share/url?url="+e+"&text="+title}),$(".sh-telegram").attr({"data-href":e})}})},addShare:function(e){var t=$(e).attr("data-url");"//"==t.substr(0,2)&&(t="http:"+t);var a={pageUrl:t,pageTitle:$(e).attr("data-title"),pageDesc:$(e).attr("data-desc"),pageImage:$(e).attr("data-image"),pageQuote:$(e).attr("data-quote")};return a.pageImage||(a.pageImage=baseurl+"images/default-43.gif?w=300"),"fb"==$(e).attr("class")?shareBox.facebook(a):"tw"==$(e).attr("class")?shareBox.twitter(a):"gplus"==$(e).attr("class")?shareBox.gplus(a):"line"==$(e).attr("class")?shareBox.lineit(a):"whatsap"==$(e).attr("class")?shareBox.whatsapp(a,$(e)):"linked"==$(e).attr("class")?shareBox.linked(a):"sh-telegram"==$(e).attr("class")&&shareBox.telegram(a,$(e)),!1},addCounter:function(e){var t=$(e).attr("data-url");"//"==t.substr(0,1)&&(t="http:"+t);var a={pageUrl:t,pageTitle:$(e).attr("data-title"),pageDesc:$(e).attr("data-desc"),pageImage:$(e).attr("data-image"),pageQuote:$(e).attr("data-quote")};$(e).hasClass("fb")?$(e).click((function(e){shareBox.facebook(a),e.preventDefault()})):$(e).hasClass("tw")?$(e).click((function(e){shareBox.twitter(a),e.preventDefault()})):$(e).hasClass("gplus")?$(e).click((function(e){shareBox.gplus(a),e.preventDefault()})):$(e).hasClass("linked")?$(e).click((function(e){shareBox.linked(a),e.preventDefault()})):$(e).hasClass("line")?(shareBox.countLine(e),$(e).click((function(e){shareBox.lineit(a),e.preventDefault()}))):$(e).hasClass("whatsap")?shareBox.whatsapp(a,$(this)):$(e).hasClass("sh-telegram")?shareBox.telegram(a,$(this)):($(e).hasClass("komentar")||$(e).hasClass("sh-komentar"))&&(shareBox.countComment(e),$(e).click((function(e){var t=parseInt($("#thecomment2").offset().top)-parseInt(46),a=t+200;return $("html, body").animate({scrollTop:a},600),setTimeout((function(){$("html, body").animate({scrollTop:t},800)}),500),!1})))},updateCounter:function(e,t,a){if(this.totalArr.indexOf(t)<0&&(this.totalArr.push(t),this.totalCount=this.totalCount+a,this.totalSeq++),this.totalSeq>=2){var n=$(e).closest(".share-top-new").find(".count");void 0!==$(n)&&($({someValue:0}).animate({someValue:this.totalCount},{duration:1500,easing:"swing",step:function(){$(n).find("strong").text(Math.round(this.someValue))}}),setTimeout((function(){$(n).find("strong").text(shareBox.totalCount)}),1600))}},countTW:function(e){$(e).attr("data-url")},countGplus:function(e){$(e).attr("data-url");$.ajax({url:"",dataType:"json",contentType:"application/json",type:"GET",processData:!1,success:function(t){var a=t;void 0!==$(e).find(".nolabel").html()?$(e).find(".nolabel").html(a):$(e).find("span").html("Share "+a),shareBox.updateCounter(e,"gplus",a)}})},countLine:function(e){},countComment:function(e){$.getJSON("//apicomment.detik.com/api/comments/old/?count&callback=?",{key:article.idnews,group:article.idkanal,format:"jsonp"},(function(t){void 0!==$(e).find(".nolabel").html()?$(e).find(".nolabel").html(t):$(e).find("span").html(t+" komentar")}))},run:function(e){$(e).find("a").each((function(e,t){"count"!=$(t).attr("class")&&shareBox.addCounter(t)}))},includeFb:function(){}};
var embeded=[],ifembed=["20.detik.com","cnnindonesia.com","cnbcindonesia.com","insertlive.com","haibunda.com","beautynesia.id","tv.detik.com","youtube.com"],itbody=".itp_bodycontent",oemhelper={resizeIframe:function(e){var t=itbody+" iframe[src*='"+e+"']",i=$(itbody).width();if($(t).length>0){var a=$(t),o=a.attr("src"),s=9*i/16+parseInt(0);if(this.paramExistNotNull("counterviews",o)){var r=a.closest("div.ratiobox.ratio_16_9");if(r.length>0){var n=oemhelper.isMobile()?"67.25%":"65.25%";r.css({"padding-bottom":n,position:"relative",height:0})}s+=parseInt(55)}a.css({width:"100%",height:s}),embeded.push(e)}},addWrapperClass:function(e){var t=$(itbody+" iframe[src*='"+e+"']");if(t.length>0){var i=e.replace(/\./g,"");t.each((function(e,t){var a="itp_embed_"+i+"_"+e;$(t).addClass(a),$("."+a).wrap('<div class="sisip_video_ds ratiobox ratiobox--16-9 itp_ratio_counter"></div>'),adjustCV.run()}))}},getAllAttr:function(e){var t={};return $.each(e.attributes,(function(e,i){this.specified&&(t[this.name]=this.value)})),t},paramExistNotNull:function(e,t){var i=oemhelper.getParameterByName(e,t);return null!=i&&""!=i&&("true"==i||"1"==i)},isMobile:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},extractHostname:function(e){return(e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]},nl2br:function(e,t){return null==e?"":(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(t||void 0===t?"<br />":"<br>")+"$2")},getMeta:function(t,i){return e=document.head.querySelector("["+t+'="'+i+'"]'),null!==e?e.content:null}},oembed={loopPasta:0,classPasta:null,maxwidth:500,countPasta:[],classBody:itbody,to:3e3,video_dn:["videocnn","videocnbc","videohaibunda","videoinsertlive","videobeautynesia"],init:function(e,t){var i=e.attr("class");if(media=i.split(" "),target=e.attr("href"),void 0!==media[1]&&null!==media[1]){var a=media[1];-1!=this.video_dn.indexOf(a)&&(a="detiknetwork_video");var o="_"+a;try{$(this.classBody).width()>0&&(this.maxwidth=$(this.classBody).width());var s={url:target,maxwidth:this.maxwidth,class:media[1]};this[o](e,s,t)}catch(e){console.log("GAMBAS:NOT FOUND")}}},_instagram:function(e,t){var i={url:`https://www.detik.com/api/instagram/?url=${t.url}`,dataType:"json",style:"margin:20px 0 0 0",exist:{tag:"iframe.instagram-media",get:"height"}};this.__request(e,i)},_twitter:function(e,t){var i={url:"https://publish.twitter.com/oembed?maxwidth="+t.maxwidth+"&url="+t.url,dataType:"jsonp",style:"margin:20px 0 0 0"};this.__request(e,i)},_opta:function(e,t,i){var a={url:"https://www.detik.com/api/opta?id="+$(e).attr("href").split("?id=")[1],dataType:"json",isOpta:!0,number:i,style:""};this.__request(e,a)},_youtube:function(e,t){var i={url:"https://www.youtube.com/embed/"+this.getUrlVars(t.url),style:"border:0;",class:t.class,exist:{tag:'iframe[src*="youtube.com"]',get:"height"}};this.__video(e,i)},_detiknetwork_video:function(e,t){var i=oemhelper.extractHostname(t.url).replace("www.",""),a={url:t.url,style:"border:0;",class:t.class,exist:{tag:'iframe[src*="'+i+'"]',get:"height"}};this.__video(e,a)},_video20detik:function(e,t,i){var a="iframe.video20detik_"+i,o=".video20detik_"+i,s="smartautoplay=true&smartautoplaylazy=true&unmute=true",r="?"+s,n="aevp-params",d=!0,l="";oembed.checkMobile()&&(l="width: 100px !important;"),$(e).removeClass("video20detik").addClass("video20detik_"+i),$(e).html(`<div class="bumper20detik_${i}" align="center"><img style="${l}" src="https://cdn.detik.net.id/assets/images/load.gif"/></div>`),$(window).bind("scroll load",(function(){var l=$("body").find(a).length;if(0==l){-1!=t.url.indexOf("?")&&(r="&"+s);let a=t.url+r;void 0!==$(e).attr(n)&&""!=$(e).attr(n)&&(a=t.url+$(e).attr(n),$(e).removeAttr(n)),-1!==window.location.href.indexOf("food.detik.com")&&(a+="&nocache");var c={url:a,style:"border:0;text-align:left;",class:t.class+"_"+i,add_attr:'webkitallowfullscreen mozallowfullscreen allowfullscreen allow="autoplay; fullscreen" importance="high" loading="eager"'};oembed.__video(e,c,i)}if(0!=l&&(0==d&&0==oembed.inview(o)&&(d=!0),window.addEventListener("message",(function(e){"disable"==e.data.scroll&&(d=!1)}),!1),d)){var m=document.querySelectorAll(a)[0],u=oembed.inview(".video20detik_"+i)?"play":"pause";m.contentWindow.postMessage({dvcmd:1,cmd:u},"*")}}))},_pasangmata:function(e,t){var i=t.class+this.loopPasta,a='<iframe scrolling="no" style="'+("width:"+(this.maxwidth-parseInt(10))+"px;overflow:hidden;display: block;border:0;")+'" class="'+i+'" src="'+t.url+"?w="+(this.maxwidth-parseInt(20))+"&loop="+this.loopPasta+'"></iframe>';$(e).replaceWith('<div class="sisip_embed_sosmed">'+a+"</div>"),this.countPasta.push(t.class+this.loopPasta),oembed.checkMobile()&&oembed.existTag({tag:"iframe."+i,get:"height"}),this.loopPasta++},__video:function(e,t,i){var a=$(this.classBody).width(),o=9*a/16+parseInt(0);if(void 0!==t.style&&null!==t.style)var s="style="+t.style;if(void 0!==t.add_attr&&null!==t.add_attr)var r=t.add_attr;var n='<iframe scrolling="no" '+s+" "+r+' src="'+t.url+'" width="'+a+'px" height="'+o+'px" class="'+t.class+'"></iframe>';t.class=="video20detik_"+i?($(e).replaceWith('<div class="sisip_video_ds ratiobox ratiobox--16-9 itp_gambas_video video20detik_'+i+'">'+n+"</div>"),$("body").find("div.bumper20detik_"+i).remove(),window.addEventListener("message",(function(e){"play"==e.data.videois&&$("iframe.video20detik_"+i).css("visibility","visible")}),!1)):$(e).replaceWith('<div class="sisip_embed_sosmed">'+n+"</div>"),oembed.checkMobile()&&void 0!==t.exist&&null!==t.exist&&oembed.existTag(t.exist)},__request:function(e,t){$.ajax({url:t.url,method:"GET",dataType:t.dataType}).done((function(i){if(void 0!==t.isOpta&&t.isOpta){if($("body").find(".embed.opta").length>=1){let a="",o="",s="";0==t.number&&(a='<link rel="stylesheet" href="https://secure.widget.cloud.opta.net/v3/css/v3.football.opta-widgets.css">',o='<script src="https://secure.widget.cloud.opta.net/v3/v3.opta-widgets.js"><\/script>',s='<script>var opta_settings = {subscription_id: "d6f4aa0839e0e85f5040a23395bb7e18",language: "en_US",timezone: "Asia/Jakarta"};<\/script>'),$(e).replaceWith(a+'<div class="sisip_embed_sosmed" style="'+t.style+'">'+i.html+"</div>"+o+s)}}else{let a="";t.url.includes("/instagram")?void 0!==i.html&&(a=i.html):a=i.html,$(e).replaceWith('<div class="sisip_embed_sosmed" style="'+t.style+'">'+a+"</div>")}oembed.checkMobile()&&void 0!==t.exist&&null!==t.exist&&oembed.existTag(t.exist)}))},checkMobile:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(console.log("GAMBAS:MOBILE"),!0)},existTag:function(e){setTimeout((function(){if($(e.tag).length>0){var t=$(e.tag).attr(e.get);void 0!==t&&0!==t&&$(e.tag).css(e.get,t)}}),this.to)},getUrlVars:function(e){for(var t,i=[],a=e.slice(e.indexOf("?")+1).split("&"),o=0;o<a.length;o++)t=a[o].split("="),i.push(t[0]),i[t[0]]=t[1];return i.v},inview:function(e){var t=document.querySelector(e).getBoundingClientRect(),i=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(t.bottom<200||t.top-i>=-200)}},adjustCV={cls:"itp_ratio_counter",run:function(){$("."+this.cls).each((function(e,t){let i=adjustCV.cls+"_"+e;$(t).addClass(i),adjustCV._set(i)}))},_set:function(e){if(1==$("body").find("."+e).length){var t=$("."+e+" iframe").attr("src");oemhelper.paramExistNotNull("counterviews",t)&&$("."+e).addClass("pdb-counter")}}},copyArticle=function(){var e=oemhelper.getMeta("name","originalTitle");null!=e&&(document.oncopy=function(){var t,i=e,a=oemhelper.getMeta("property","og:site_name"),o=oemhelper.getMeta("property","og:url"),s=document.getElementsByTagName("body")[0];if(_text=oemhelper.nl2br(t=window.getSelection())+"<br /><br /> Baca artikel "+a+', "'+i.trim()+'" selengkapnya <a href="'+o+'">'+o+"</a>.<br /><br />Download Apps Detikcom Sekarang https://apps.detik.com/detik/",window.clipboardData&&window.clipboardData.setData)return clipboardData.setData(p);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var r=document.createElement("div");r.style.position="absolute",r.style.left="-99999px",s.appendChild(r),r.innerHTML=_text,t.selectAllChildren(r),window.setTimeout((function(){s.removeChild(r)}),0)}})};function enableBtnKirim(){let e="buttonKirim",t="disabled";$("body").find("#"+e).length>0?$("#"+e).prop(t,!1):$("#submitForm").prop(t,!1)}$((function(e){if(e("a.embed").each((function(t){oembed.init(e(this),t)})),oembed.countPasta.length>0&&e.each(oembed.countPasta,(function(e,t){window.addEventListener("message",(function(e){if(e.data.dtk==t){var i=e.data;document.getElementsByClassName(t)[0].height=i.height+parseInt(20)}}),!1)})),e(itbody+" iframe[src*='facebook.com']").length>0&&e(itbody+" iframe[src*='facebook.com']").css({width:"100%",height:e(itbody+" iframe[src*='facebook.com']").attr("height")}),e.each(ifembed,(function(e,t){oemhelper.addWrapperClass(t)})),e(itbody+" iframe[class='embed opta']").length>0){var t={url:"https://www.detik.com/api/opta?id="+e(itbody+" iframe[class='embed opta']").attr("src").split("?id=")[1],dataType:"json"};e(itbody+" iframe[class='embed opta']").css({width:"100%",border:"0"}),setTimeout((function(){oembed.__request("iframe[class='embed opta']",t)}),12e3)}e("body").on("DOMSubtreeModified",itbody+"_wrapper",(function(){e.each(embeded,(function(e,t){oemhelper.addWrapperClass(t)}))})),copyArticle()})),window.addEventListener("message",(function(e){void 0!==e.data.is_next&&(document.getElementById("aevp_title").innerHTML=e.data.is_next),void 0!==e.data.login_premium&&$(".to_login")[0].click();var t=document.getElementsByClassName("bb-iframe"),i=e.data.height;t&&t[0]&&(t[0].style.height=i+"px")}),!1),$(window).bind("load",(function(){var e,t,i,a;for(a=$("meta[name=articleid]").attr("content"),e=document.getElementsByTagName("iframe"),i=a,t=0;t<e.length;t++)e[t].src.includes("detik.com")&&e[t].contentWindow.postMessage(i,"*");if(!window.location.hash)return;const o=window.location.hash.replace("#","");if(""!=o&&"aevp"===o)$("html, body").animate({scrollTop:$(`#${o}`).offset().top-100},200)})),adjustCV.run();